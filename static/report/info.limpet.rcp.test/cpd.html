<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2017-09-04 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>info.limpet.test - CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20170904" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                info.limpet.test
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-09-04</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.6-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="${project.url}" title="info.limpet.test">info.limpet.test</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="parent">parent</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                    <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="findbugs.html" title="FindBugs">FindBugs</a>
            </li>
                      <li class="none">
            <strong>CPD</strong>
          </li>
                      <li class="none">
                          <a href="pmd.html" title="PMD">PMD</a>
            </li>
                      <li class="none">
                          <a href="checkstyle.html" title="Checkstyle">Checkstyle</a>
            </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>CPD Results<a name="CPD_Results"></a></h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.3.5.</p></div>
<div class="section">
<h2>Duplications<a name="Duplications"></a></h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestArithmeticCollections.java</td>
<td>725</td></tr>
<tr class="a">
<td>info/limpet/data2/TestArithmeticCollections.java</td>
<td>790</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    tqb2.add(60d);
  
    final NumberDocumentBuilder tqb3 =
        new NumberDocumentBuilder(&quot;Some data3&quot;, METRE.divide(SECOND).asType(
            Velocity.class), null, null);
    tqb3.add(20d);
    tqb3.add(33d);
    tqb3.add(37d);
    tqb3.add(40d);
    tqb3.add(42d);
    tqb3.add(50d);
    
    
    final NumberDocument tq1 = tqb1.toDocument();
    final NumberDocument tq2 = tqb2.toDocument();
    final NumberDocument tq3 = tqb3.toDocument();
  
    final List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    selection.add(tq1);
    selection.add(tq2);
    selection.add(tq3);
  
    final StoreGroup store = new StoreGroup(&quot;data store&quot;);
    final Collection&lt;ICommand&gt; commands =
        new AddQuantityOperation().actionsFor(selection, store, context);
    final ICommand firstC = commands.iterator().next();
  
    assertEquals(&quot;store empty&quot;, 0, store.size());
  
    firstC.execute();
  
    assertEquals(&quot;new collection created&quot;, 1, store.size());
  
    final IDocument&lt;?&gt; series = firstC.getOutputs().get(0);
    assertTrue(&quot;non empty&quot;, series.size() &gt; 0);
    assertFalse(&quot;temporal&quot;, series.isIndexed());
    assertTrue(&quot;quantity&quot;, series.isQuantity());
    assertEquals(&quot;correct name&quot;, &quot;Some data1 + Some data2 + Some data3&quot;,  series.getName());
  
    final NumberDocument tq = (NumberDocument) series;
  
    assertEquals(&quot;is correct length&quot;, 6, tq.size());
    assertEquals(&quot;correct value&quot;, 50d, tq.getValueAt(0), 0.001);
    assertEquals(&quot;correct value&quot;, 89d, tq.getValueAt(1), 0.001);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>913</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1648</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  public void testInterpolatedLocationCalcTemporal()
  {
    final LocationDocumentBuilder loc1 =
        new LocationDocumentBuilder(&quot;loc1&quot;, null, SampleData.MILLIS);
    final LocationDocumentBuilder loc2 =
        new LocationDocumentBuilder(&quot;loc2&quot;, null, SampleData.MILLIS);
    final NumberDocumentBuilder len1 =
        new NumberDocumentBuilder(&quot;dummy2&quot;, METRE.asType(Length.class), null,
            SampleData.MILLIS);

    final List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    selection.add(loc1.toDocument());

    final IStoreGroup store = new StoreGroup(&quot;data&quot;);

    List&lt;ICommand&gt; ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    final NumberDocument len1D = len1.toDocument();
    selection.add(len1D);
    ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    selection.remove(len1D);
    selection.add(loc2.toDocument());
    ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    // ok, try adding some data
    final IGeoCalculator builder = loc1.getCalculator();

    loc1.add(1000, builder.createPoint(1, 3));
    loc1.add(2000, builder.createPoint(2, 3));
    loc1.add(3000, builder.createPoint(3, 3));
    loc1.add(4000, builder.createPoint(4, 3));
    loc1.add(5000, builder.createPoint(5, 3));

    // try with a singleton indexed second dataset
    loc2.add(900, builder.createPoint(2.2, 4));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1225</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1293</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        new LocationDocumentBuilder(&quot;loc2&quot;, null, SI.MILLI(SI.SECOND));
    final NumberDocumentBuilder len1b =
        new NumberDocumentBuilder(&quot;dummy&quot;, METRE.asType(Length.class), null,
            null);

    final IOperation distanceOp = new DistanceBetweenTracksOperation();
    final IGeoCalculator builder = loc1.getCalculator();

    final List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    selection.add(loc1.toDocument());

    final StoreGroup store = new StoreGroup(&quot;Results&quot;);

    List&lt;ICommand&gt; ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    final NumberDocument len1 = len1b.toDocument();

    selection.add(len1);
    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    selection.remove(len1);
    selection.add(singletonLoc.toDocument());
    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    // ok, try adding some data
    loc1.add(1000, builder.createPoint(4, 3));
    singletonLoc.add(2000, builder.createPoint(3, 4));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1291</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1368</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        new LocationDocumentBuilder(&quot;loc1&quot;, null, SI.MILLI(SI.SECOND));
    final LocationDocumentBuilder singletonLoc =
        new LocationDocumentBuilder(&quot;loc2&quot;, null, null);
    final NumberDocumentBuilder len1b =
        new NumberDocumentBuilder(&quot;dummy&quot;, METRE.asType(Length.class), null,
            null);

    final IOperation distanceOp = new DistanceBetweenTracksOperation();
    final IGeoCalculator builder = loc1.getCalculator();

    final List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    selection.add(loc1.toDocument());

    final StoreGroup store = new StoreGroup(&quot;Results&quot;);

    List&lt;ICommand&gt; ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    final NumberDocument len1 = len1b.toDocument();

    selection.add(len1);
    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    selection.remove(len1);
    selection.add(singletonLoc.toDocument());
    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    // ok, try adding some data
    loc1.add(1000, builder.createPoint(4, 3));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>978</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1008</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    assertEquals(&quot;got four commands&quot;, 2, commands.size());

    // have a look
    first = commands.get(1);
    first.execute();
    output = (NumberDocument) first.getOutputs().iterator().next();
    assertNotNull(&quot;produced output&quot;, output);
    assertEquals(&quot;correct size&quot;, speedGood1.size(), output.size());
    assertEquals(&quot;correct value&quot;, speedGood1.getValueAt(0)
        - speedSingle.getValueAt(0), output.getValueAt(0), 0.001);
    assertTrue(output.isIndexed());

    // ok, try the reverse operation
    target.clear();

    commands =
        new SubtractQuantityOperation().actionsFor(selection, target, context);
    first = commands.get(0);
    first.execute();
    output = (NumberDocument) first.getOutputs().iterator().next();
    assertNotNull(&quot;produced output&quot;, output);
    assertEquals(&quot;correct size&quot;, speedGood1.size(), output.size());
    assertEquals(&quot;correct value&quot;, speedSingle.getValueAt(0)
        - speedGood1.getValueAt(0), output.getValueAt(0), 0.001);
    assertTrue(output.isIndexed());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestFilter.java</td>
<td>37</td></tr>
<tr class="a">
<td>info/limpet/data2/TestFilter.java</td>
<td>99</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    builder.add(6d);
    
    NumberDocument doc = builder.toDocument();
    selection.add(doc);
    
    List&lt;ICommand&gt; oper = new MaxMinFilterOperation().actionsFor(selection, store, context);
    assertNotNull(&quot;operations present&quot;, oper);
    assertEquals(&quot;correct operations&quot;, 0, oper.size());
    
    // ok, give it a singleton
    NumberDocumentBuilder sBuilder = new NumberDocumentBuilder(&quot;singleton&quot;, SI.CELSIUS, null, null);
    sBuilder.add(6d);
    NumberDocument singleton = sBuilder.toDocument();
    
    selection.add(singleton);
    
    oper = new MaxMinFilterOperation().actionsFor(selection, store, context);
    assertNotNull(&quot;operations present&quot;, oper);
    assertEquals(&quot;correct operations&quot;, 2, oper.size());
        
    // ok, run it
    oper.get(0).execute();
    
    NumberDocument nd = (NumberDocument) oper.get(0).getOutputs().get(0);
    assertNotNull(&quot;have output&quot;, nd);
    assertEquals(&quot;correct length&quot;, 4, nd.size());
    assertEquals(&quot;correct units&quot;, SI.METER, nd.getUnits());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1225</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1370</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        new LocationDocumentBuilder(&quot;loc2&quot;, null, SI.MILLI(SI.SECOND));
    final NumberDocumentBuilder len1b =
        new NumberDocumentBuilder(&quot;dummy&quot;, METRE.asType(Length.class), null,
            null);

    final IOperation distanceOp = new DistanceBetweenTracksOperation();
    final IGeoCalculator builder = loc1.getCalculator();

    final List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    selection.add(loc1.toDocument());

    final StoreGroup store = new StoreGroup(&quot;Results&quot;);

    List&lt;ICommand&gt; ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    final NumberDocument len1 = len1b.toDocument();

    selection.add(len1);
    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    selection.remove(len1);
    selection.add(singletonLoc.toDocument());
    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    // ok, try adding some data
    loc1.add(1000, builder.createPoint(4, 3));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1337</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1903</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  public void testCreateSingletonGenerator()
  {
    StoreGroup store = new SampleData().getData(10);
    CreateSingletonGenerator generator =
        new CreateSingletonGenerator(&quot;dimensionless&quot;, Dimensionless.UNIT);
    assertNotNull(&quot;Create Single Generator is not NULL&quot;, generator);

    List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    StoreGroup storeGroup = new StoreGroup(&quot;Track 1&quot;);
    selection.add(storeGroup);

    IContext mockContext = EasyMock.createMock(MockContext.class);

    Collection&lt;ICommand&gt; singleGeneratorActionFor =
        generator.actionsFor(selection, store, mockContext);
    assertEquals(&quot;Create location collection size&quot;, 1, singleGeneratorActionFor
        .size());
    ICommand singleGenCommand = singleGeneratorActionFor.iterator().next();

    final String outName = &quot;new_name&quot;;
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;, &quot;Enter name for variable&quot;, &quot;new dimensionless&quot;))
        .andReturn(outName).times(1);
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;,
            &quot;Enter initial value for variable&quot;, &quot;100&quot;)).andReturn(&quot;1234.56&quot;)
        .times(1);
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;,
            &quot;Enter the range for variable (or cancel to leave un-ranged)&quot;, &quot;0:100&quot;)).andReturn(&quot;5:100&quot;)</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1386</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1434</td></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1483</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>  public void testCreateSingletonDecibelGenerator()
  {
    StoreGroup store = new SampleData().getData(10);
    CreateSingletonGenerator generator =
        new CreateSingletonGenerator(&quot;Decibel&quot;, NonSI.DECIBEL);
    assertNotNull(&quot;Create Single Generator is not NULL&quot;, generator);

    List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    StoreGroup storeGroup = new StoreGroup(&quot;Track 1&quot;);
    selection.add(storeGroup);

    IContext mockContext = EasyMock.createMock(MockContext.class);

    Collection&lt;ICommand&gt; singleGeneratorActionFor =
        generator.actionsFor(selection, store, mockContext);
    assertEquals(&quot;Create location collection size&quot;, 1, singleGeneratorActionFor
        .size());
    ICommand singleGenCommand = singleGeneratorActionFor.iterator().next();

    final String outName = &quot;new_name&quot;;
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;, &quot;Enter name for variable&quot;, &quot;new Decibel&quot;))
        .andReturn(outName).times(1);
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;,
            &quot;Enter initial value for variable&quot;, &quot;100&quot;)).andReturn(&quot;1234.56&quot;)
        .times(1);
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;,
            &quot;Enter the range for variable (or cancel to leave un-ranged)&quot;, &quot;0:100&quot;)).andReturn(&quot;5:100&quot;)</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>919</td></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>949</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    NumberDocument output =
        (NumberDocument) first.getOutputs().iterator().next();
    assertNotNull(&quot;produced output&quot;, output);
    assertEquals(&quot;correct size&quot;, speedGood1.size(), output.size());
    assertEquals(&quot;correct value&quot;, speedGood1.getValueAt(0)
        - speedSingle.getValueAt(0), output.getValueAt(0), 0.001);
    assertTrue(output.isIndexed());

    // ok, try the reverse operation
    target.clear();

    commands =
        new SubtractQuantityOperation().actionsFor(selection, target, context);
    first = commands.get(1);
    first.execute();
    output = (NumberDocument) first.getOutputs().iterator().next();
    assertNotNull(&quot;produced output&quot;, output);
    assertEquals(&quot;correct size&quot;, speedGood1.size(), output.size());
    assertEquals(&quot;correct value&quot;, speedSingle.getValueAt(0)
        - speedGood1.getValueAt(0), output.getValueAt(0), 0.001);
    assertTrue(output.isIndexed());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestArithmeticCollections.java</td>
<td>170</td></tr>
<tr class="b">
<td>info/limpet/data2/TestArithmeticCollections.java</td>
<td>735</td></tr>
<tr class="a">
<td>info/limpet/data2/TestArithmeticCollections.java</td>
<td>800</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    tqb3.add(540, 54d);
    
    
    final NumberDocument tq1 = tqb1.toDocument();
    final NumberDocument tq2 = tqb2.toDocument();
    final NumberDocument tq3 = tqb3.toDocument();

    final List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    selection.add(tq1);
    selection.add(tq2);
    selection.add(tq3);

    final StoreGroup store = new StoreGroup(&quot;data store&quot;);
    final Collection&lt;ICommand&gt; commands =
        new AddQuantityOperation().actionsFor(selection, store, context);
    final ICommand firstC = commands.iterator().next();

    assertEquals(&quot;store empty&quot;, 0, store.size());

    firstC.execute();

    assertEquals(&quot;new collection created&quot;, 1, store.size());

    final IDocument&lt;?&gt; series = firstC.getOutputs().get(0);
    assertTrue(&quot;non empty&quot;, series.size() &gt; 0);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1358</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1407</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        mockContext.getInput(&quot;New variable&quot;, &quot;Enter name for variable&quot;, &quot;new dimensionless&quot;))
        .andReturn(outName).times(1);
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;,
            &quot;Enter initial value for variable&quot;, &quot;100&quot;)).andReturn(&quot;1234.56&quot;)
        .times(1);
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;,
            &quot;Enter the range for variable (or cancel to leave un-ranged)&quot;, &quot;0:100&quot;)).andReturn(&quot;5:100&quot;)
        .times(1);
    EasyMock.replay(mockContext);

    singleGenCommand.execute();

    NumberDocument output = (NumberDocument) singleGenCommand.getOutputs().get(0);
    assertNotNull(output);
    assertEquals(&quot;correct name&quot;, outName, output.getName());
    assertEquals(&quot;correct size&quot;, 1, output.size());
    assertEquals(&quot;correct value&quot;, 1234.56, output.getValueAt(0), 0.01);
    assertEquals(&quot;correct range&quot;, new Range(5d,100d), output.getRange());
    assertEquals(&quot;correct units&quot;, Dimensionless.UNIT, output.getUnits());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>957</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1691</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    loc2.add(900, builder.createPoint(2.2, 4));
    
    selection.clear();
    selection.add(loc1.toDocument());
    selection.add(loc2.toDocument());
    
    ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;does work collection&quot;, 1, ops.size());
    assertTrue(&quot;is interpolated&quot;, ops.get(0).getDescription().contains(&quot;interpolated&quot;));

    // check output is empty
    assertEquals(&quot;store empty&quot;, 0, store.size());

    ops.get(0).execute();

    assertEquals(&quot;store not empty&quot;, 1, store.size());
    
    NumberDocument output = (NumberDocument) ops.get(0).getOutputs().get(0);
    assertNotNull(&quot;output produced&quot;, output);
    assertEquals(&quot;correct items&quot;, 5, output.size());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1455</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1924</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        mockContext.getInput(&quot;New variable&quot;, &quot;Enter name for variable&quot;, &quot;new Decibel&quot;))
        .andReturn(outName).times(1);
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;,
            &quot;Enter initial value for variable&quot;, &quot;100&quot;)).andReturn(&quot;1234.56&quot;)
        .times(1);
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;,
            &quot;Enter the range for variable (or cancel to leave un-ranged)&quot;, &quot;0:100&quot;)).andReturn(&quot;&quot;)
        .times(1);
    EasyMock.replay(mockContext);

    singleGenCommand.execute();

    NumberDocument output = (NumberDocument) singleGenCommand.getOutputs().get(0);
    assertNotNull(output);
    assertEquals(&quot;correct name&quot;, outName, output.getName());
    assertEquals(&quot;correct size&quot;, 1, output.size());
    assertEquals(&quot;correct value&quot;, 1234.56, output.getValueAt(0), 0.01);
    assertEquals(&quot;correct range&quot;, null, output.getRange());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1463</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1512</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            &quot;Enter the range for variable (or cancel to leave un-ranged)&quot;, &quot;0:100&quot;)).andReturn(&quot;&quot;)
        .times(1);
    EasyMock.replay(mockContext);

    singleGenCommand.execute();

    NumberDocument output = (NumberDocument) singleGenCommand.getOutputs().get(0);
    assertNotNull(output);
    assertEquals(&quot;correct name&quot;, outName, output.getName());
    assertEquals(&quot;correct size&quot;, 1, output.size());
    assertEquals(&quot;correct value&quot;, 1234.56, output.getValueAt(0), 0.01);
    assertEquals(&quot;correct range&quot;, null, output.getRange());
    assertEquals(&quot;correct units&quot;, NonSI.DECIBEL, output.getUnits());
    assertEquals(&quot;no index units&quot;, null, output.getIndexUnits());
    assertFalse(&quot;not indexed&quot;, output.isIndexed());
    assertTrue(&quot;is quantity&quot;, output.isQuantity());
  }
  
  
  @Test
  public void testCreateSingletonDecibelGeneratorNoRange2()</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestAdmin.java</td>
<td>92</td></tr>
<tr class="a">
<td>info/limpet/data2/TestAdmin.java</td>
<td>118</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    final NumberDocument speedSet = (NumberDocument) sampleData.get(SampleData.RANGED_SPEED_SINGLETON);
    final NumberDocument lookupSet = (NumberDocument) sampleData.get(SampleData.RAD_NOISE_LOOKUP);

    selection.clear();
    selection.add(speedSet);
    selection.add(lookupSet);
    List&lt;ICommand&gt; ops = oper.actionsFor(selection, store, context);
    assertEquals(&quot;found some ops&quot;, 1, ops.size());
    ops.get(0).execute();
   
    NumberDocument output = (NumberDocument) ops.get(0).getOutputs().get(0);
    assertNotNull(output);
    
    // check the units
    assertEquals(&quot;right units&quot;, lookupSet.getUnits(), output.getUnits());
    assertEquals(&quot;right index units&quot;, speedSet.getIndexUnits(), output.getIndexUnits());    
  }

  public void testDeriveFromOthersValid()</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>857</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>926</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1661</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    final IStoreGroup store = new StoreGroup(&quot;Store&quot;);
    List&lt;ICommand&gt; ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    final NumberDocument len1D = len1.toDocument();
    selection.add(len1D);
    ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    selection.remove(len1D);
    selection.add(loc2.toDocument());
    ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;empty collection&quot;, 0, ops.size());

    // ok, try adding some data
    final IGeoCalculator builder = loc1.getCalculator();
    loc1.add(builder.createPoint(4, 3));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1321</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1398</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    loc1.add(1000, builder.createPoint(4, 3));
    singletonLoc.add(builder.createPoint(3, 4));

    // put in the new documents
    selection.clear();
    selection.add(loc1.toDocument());
    selection.add(singletonLoc.toDocument());

    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;not empty collection&quot;, 1, ops.size());

    assertEquals(&quot;store empty&quot;, 0, store.size());

    ops.get(0).execute();

    assertEquals(&quot;store no longer empty&quot;, 1, store.size());

    // check the output has the time units from the time provider
    NumberDocument output = (NumberDocument) ops.get(0).getOutputs().get(0);
    assertTrue(&quot;does not have index units&quot;, output.getIndexUnits() == null);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1268</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1340</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    assertEquals(&quot;store no longer empty&quot;, 1, store.size());
    // add some more entries to loc1
    loc1.add(2000, builder.createPoint(4, 3));
    loc1.add(3000, builder.createPoint(4, 3));
    loc1.add(4000, builder.createPoint(4, 3));

    // put in the new documents
    selection.clear();
    selection.add(loc1.toDocument());
    selection.add(singletonLoc.toDocument());

    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;not empty collection&quot;, 1, ops.size());

    // run the interpolation command
    store.clear();
    ops.get(0).execute();
    assertEquals(&quot;store has other collection&quot;, 1, store.size());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1065</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1726</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    selection.add(loc2.toDocument());

    ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;does work collection&quot;, 1, ops.size());
    assertTrue(&quot;interpolation offered&quot;, ops.get(0).getDescription().contains(&quot;interpolated&quot;));

    // check output is empty
    store.clear();
    assertEquals(&quot;store empty&quot;, 0, store.size());

    ops.get(0).execute();
    output = (NumberDocument) ops.get(0).getOutputs().get(0);

    assertEquals(&quot;store not empty&quot;, 1, store.size());
    dataset = (DoubleDataset) output.getDataset();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestArithmeticCollections.java</td>
<td>548</td></tr>
<tr class="b">
<td>info/limpet/data2/TestArithmeticCollections.java</td>
<td>648</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        new MultiplyQuantityOperation().actionsFor(selection, store, context);
    firstC = commands.iterator().next();

    assertEquals(&quot;store empty&quot;, 0, store.size());

    firstC.execute();

    assertEquals(&quot;new collection created&quot;, 1, store.size());

    series = (NumberDocument) firstC.getOutputs().iterator().next();
    assertTrue(&quot;non empty&quot;, series.size() &gt; 0);
    assertEquals(&quot;corrent length results&quot;, 4, series.size());
    assertTrue(&quot;temporal&quot;, series.isIndexed());
    assertTrue(&quot;quantity&quot;, series.isQuantity());

    assertEquals(&quot;returned correct value&quot;, null, series.interpolateValue(100,</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1185</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1204</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        new LocationDocumentBuilder(&quot;loc1&quot;, null, SI.MILLI(SI.SECOND), SI.METER);
    final IGeoCalculator builder = loc1b.getCalculator();
    loc1b.add(1000, builder.createPoint(2, 3));
    loc1b.add(2000, builder.createPoint(3, 4));

    final LocationDocument loc1 = loc1b.toDocument();

    Point2D geo1 = loc1.locationAt(1500);
    assertEquals(&quot;correct value&quot;, 2.5, geo1.getX());
    assertEquals(&quot;correct value&quot;, 3.5, geo1.getY());

    geo1 = loc1.locationAt(1700);
    assertEquals(&quot;correct value&quot;, 2.7, geo1.getX());
    assertEquals(&quot;correct value&quot;, 3.7, geo1.getY());
  }

  public void testLocationInterp()</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>993</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1030</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    selection.add(loc1.toDocument());
    
    ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;does work collection&quot;, 1, ops.size());
    assertTrue(&quot;is interpolated&quot;, ops.get(0).getDescription().contains(&quot;interpolated&quot;));

    // check output is empty
    assertEquals(&quot;store empty&quot;, 0, store.size());

    ops.get(0).execute();

    assertEquals(&quot;store not empty&quot;, 1, store.size());
    
    output = (NumberDocument) ops.get(0).getOutputs().get(0);
    assertNotNull(&quot;output produced&quot;, output);
    assertEquals(&quot;correct items&quot;, 5, output.size());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>979</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1713</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    assertTrue(&quot;is indexed&quot;, output.isIndexed());
    assertNotNull(&quot;has indices&quot;, output.getIndexIterator());
    DoubleDataset dataset = (DoubleDataset) output.getDataset();
    AxesMetadata am = dataset.getFirstMetadata(AxesMetadata.class);
    DoubleDataset indexes = (DoubleDataset) am.getAxis(0)[0];
    assertEquals(&quot;correct lower index&quot;, 1000d, indexes.getDouble(0));
    assertEquals(&quot;correct lower index&quot;, 5000d, indexes.getDouble(indexes.getSize()-1));
    assertEquals(&quot;correct upper index&quot;, 1000d, output.getIndexAt(0));    
    assertEquals(&quot;correct upper index&quot;, 5000d, output.getIndexAt(output.size()-1));   </pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>957</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1027</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1691</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    loc2.add(900, builder.createPoint(2.2, 4));
    
    selection.clear();
    selection.add(loc1.toDocument());
    selection.add(loc2.toDocument());
    
    ops =
        new DistanceBetweenTracksOperation().actionsFor(selection, store,
            context);
    assertEquals(&quot;does work collection&quot;, 1, ops.size());
    assertTrue(&quot;is interpolated&quot;, ops.get(0).getDescription().contains(&quot;interpolated&quot;));

    // check output is empty
    assertEquals(&quot;store empty&quot;, 0, store.size());

    ops.get(0).execute();

    assertEquals(&quot;store not empty&quot;, 1, store.size());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1345</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1420</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    loc1.add(4000, builder.createPoint(4, 3));

    // put in the new documents
    selection.clear();
    selection.add(loc1.toDocument());
    selection.add(singletonLoc.toDocument());

    ops = distanceOp.actionsFor(selection, store, context);
    assertEquals(&quot;not empty collection&quot;, 1, ops.size());

    // run the interpolation command
    store.clear();
    ops.get(0).execute();
    assertEquals(&quot;store has other collection&quot;, 1, store.size());

    // check that the results object is indexed
    output = (NumberDocument) ops.get(0).getOutputs().get(0);
    assertTrue(&quot;has index units&quot;, output.getIndexUnits() != null);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>947</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>981</td></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1009</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    first = commands.get(0);
    first.execute();
    output = (NumberDocument) first.getOutputs().iterator().next();
    assertNotNull(&quot;produced output&quot;, output);
    assertEquals(&quot;correct size&quot;, speedGood1.size(), output.size());
    assertEquals(&quot;correct value&quot;, speedGood1.getValueAt(0)
        - speedSingle.getValueAt(0), output.getValueAt(0), 0.001);
    assertTrue(output.isIndexed());

    // ok, try the reverse indexed operation
    target.clear();

    commands =
        new SubtractQuantityOperation().actionsFor(selection, target, context);
    first = commands.get(1);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1262</td></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1476</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    assertEquals(&quot;not empty collection&quot;, 1, ops.size());

    assertEquals(&quot;store empty&quot;, 0, store.size());

    ops.get(0).execute();

    assertEquals(&quot;store no longer empty&quot;, 1, store.size());
    // add some more entries to loc1
    loc1.add(2000, builder.createPoint(4, 3));
    loc1.add(3000, builder.createPoint(4, 3));
    loc1.add(4000, builder.createPoint(4, 3));

    // put in the new documents
    selection.clear();
    selection.add(loc1.toDocument());
    selection.add(singletonLoc.toDocument());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1341</td></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1390</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1438</td></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1487</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1907</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        new CreateSingletonGenerator(&quot;dimensionless&quot;, Dimensionless.UNIT);
    assertNotNull(&quot;Create Single Generator is not NULL&quot;, generator);

    List&lt;IStoreItem&gt; selection = new ArrayList&lt;IStoreItem&gt;();
    StoreGroup storeGroup = new StoreGroup(&quot;Track 1&quot;);
    selection.add(storeGroup);

    IContext mockContext = EasyMock.createMock(MockContext.class);

    Collection&lt;ICommand&gt; singleGeneratorActionFor =
        generator.actionsFor(selection, store, mockContext);
    assertEquals(&quot;Create location collection size&quot;, 1, singleGeneratorActionFor
        .size());
    ICommand singleGenCommand = singleGeneratorActionFor.iterator().next();

    final String outName = &quot;new_name&quot;;
    EasyMock.expect(
        mockContext.getInput(&quot;New variable&quot;, &quot;Enter name for variable&quot;, &quot;new dimensionless&quot;))</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1012</td></tr>
<tr class="a">
<td>info/limpet/data2/TestGeotoolsGeometry.java</td>
<td>1080</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    assertNotNull(&quot;has indices&quot;, output.getIndexIterator());
    dataset = (DoubleDataset) output.getDataset();
    am = dataset.getFirstMetadata(AxesMetadata.class);
    indexes = (DoubleDataset) am.getAxis(0)[0];
    assertEquals(&quot;correct lower index&quot;, 1000d, indexes.getDouble(0));
    assertEquals(&quot;correct lower index&quot;, 5000d, indexes.getDouble(indexes.getSize()-1));
    assertEquals(&quot;correct upper index&quot;, 1000d, output.getIndexAt(0));    
    assertEquals(&quot;correct upper index&quot;, 5000d, output.getIndexAt(output.size()-1));   </pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>919</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>983</td></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>1011</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    NumberDocument output =
        (NumberDocument) first.getOutputs().iterator().next();
    assertNotNull(&quot;produced output&quot;, output);
    assertEquals(&quot;correct size&quot;, speedGood1.size(), output.size());
    assertEquals(&quot;correct value&quot;, speedGood1.getValueAt(0)
        - speedSingle.getValueAt(0), output.getValueAt(0), 0.001);
    assertTrue(output.isIndexed());

    // ok, try the reverse operation
    target.clear();

    commands =
        new SubtractQuantityOperation().actionsFor(selection, target, context);
    first = commands.get(1);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>932</td></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>995</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    first = commands.get(1);
    first.execute();
    output = (NumberDocument) first.getOutputs().iterator().next();
    assertNotNull(&quot;produced output&quot;, output);
    assertEquals(&quot;correct size&quot;, speedGood1.size(), output.size());
    assertEquals(&quot;correct value&quot;, speedSingle.getValueAt(0)
        - speedGood1.getValueAt(0), output.getValueAt(0), 0.001);
    assertTrue(output.isIndexed());

    // ok, try the forward indexed operation
    target.clear();

    commands =
        new SubtractQuantityOperation().actionsFor(selection, target, context);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>924</td></tr>
<tr class="b">
<td>info/limpet/data2/TestOperations.java</td>
<td>953</td></tr>
<tr class="a">
<td>info/limpet/data2/TestOperations.java</td>
<td>1001</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        - speedSingle.getValueAt(0), output.getValueAt(0), 0.001);
    assertTrue(output.isIndexed());

    // ok, try the reverse operation
    target.clear();

    commands =
        new SubtractQuantityOperation().actionsFor(selection, target, context);
    first = commands.get(1);
    first.execute();
    output = (NumberDocument) first.getOutputs().iterator().next();
    assertNotNull(&quot;produced output&quot;, output);
    assertEquals(&quot;correct size&quot;, speedGood1.size(), output.size());
    assertEquals(&quot;correct value&quot;, speedSingle.getValueAt(0)</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2017.
          All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
